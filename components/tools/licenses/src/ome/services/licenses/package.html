<?xml version="1.0" encoding="utf-8"?>
<html>
<head><title>ome.services.licenses</title>
<!--
#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
# 
# $Id$
# 
# Copyright 2006 University of Dundee. All rights reserved.
# Use is subject to license terms supplied in LICENSE.txt
#
#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
-->
</head>
<body bgcolor="white">

Contains an add-on service and interceptor for license administration.

<p>
  The licenses jar produced by the tools/ build system contains a complete
  package (not split like the main OMERO components) of API (ILicense), 
  conditions, service implementations (LicenseBean), and extension point
  (LicenseStore) which allows for third-parties to compile licensing into
  the OMERO application.
</p>
<p>
  Some classes will be of no use to the client, but for ease of packaging
  and distribution the entire component is in a single jar.
</p>

<h2>Examples</h2>

<pre>
  ServiceFactory sf = new ServiceFactory(new Server("my-host.example.com");
  RenderingEngine re = sf.createRenderingEngine();
  // initialize re and make calls
  re.close()
</pre>

becomes

<pre>
  LicensedServiceFactory lsf = 
  		new ome.services.licenses.LicensedServiceFactory
  		(null, new Server("my-host.example.com"), null);
  lsf.acquire();
  RenderingEngine re = lsf.createRenderingEngine();
  // as before
  re.close();
  lsf.release();
</pre>

<h2>Details</h2>

<p>
  The License service (ome.services.licenses.ILicense) is hooked into the
  server via the HardWiredInterceptor. See etc/local.properties.example and
  components/server/build.xml for more details.
</p>

<h2>Notes</h2>

<p>
  To prevent tampering with the licensing service, it is necessary to run the
  server under a {@link SecurityManager} with the proper restrictions.
</p>
  
<h2>Related Documentation</h2>

For more information, please see:
<ul>
  <li>
    <a href="http://trac.openmicroscopy.org.uk/omero/wiki/OmeroLicenses">
    wiki:OmeroLicenses</a>
  </li>
</ul>

<!-- Put @see and @since tags down here. -->
  @see ome.logic.AbstractBean
  @see ome.logic.HardWiredInterceptor
  
</body>
</html>
