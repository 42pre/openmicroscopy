#set ($file = "factory.vm")

#if( $package )
package ${package}.model;
#end

/** autogenerated by Velocity template $file */

/* FIXME Factory doesn't currently work. Namespaces need to be defined */

public class Factory
{
	public static LSObject make (String str, String type){
		LSID lsid = null;
		try {
			lsid = new LSID(str);
		} catch (Exception e){
			return null; // TODO
		}

		LSObject lsobj = null;
#foreach( $c in $classes )
#set ( $t = $c.Type )
#set ( $n = $c.LocalName )
    	  if (type.startsWith(I${n}.URI)) {
    	     lsobj = new $n(lsid);
	      } else
#end
          {
       		 lsobj = new OMEObject(lsid);
	      }

	   return lsobj;

	}

}
